"use strict";(self.webpackChunkflutter_news_toolkit_docs=self.webpackChunkflutter_news_toolkit_docs||[]).push([[625],{5736:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>l});var r=n(4848),s=n(8453);const d={sidebar_position:8,description:"Learn how to configure ads in your Flutter news application."},i="Ads",a={id:"flutter_development/ads",title:"Ads",description:"Learn how to configure ads in your Flutter news application.",source:"@site/docs/flutter_development/ads.md",sourceDirName:"flutter_development",slug:"/flutter_development/ads",permalink:"/news_toolkit/flutter_development/ads",draft:!1,unlisted:!1,editUrl:"https://github.com/flutter/news_toolkit/tree/main/docs/docs/flutter_development/ads.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,description:"Learn how to configure ads in your Flutter news application."},sidebar:"tutorialSidebar",previous:{title:"Push notifications",permalink:"/news_toolkit/flutter_development/push_notifications"},next:{title:"In-app purchases",permalink:"/news_toolkit/flutter_development/in_app_purchases"}},o={},l=[{value:"Ads placement",id:"ads-placement",level:2},{value:"Banner ads",id:"banner-ads",level:3},{value:"Interstitial ads",id:"interstitial-ads",level:3},{value:"Sticky Ads",id:"sticky-ads",level:3},{value:"Rewarded ads",id:"rewarded-ads",level:3}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"ads",children:"Ads"})}),"\n",(0,r.jsx)(t.h2,{id:"ads-placement",children:"Ads placement"}),"\n",(0,r.jsx)(t.h3,{id:"banner-ads",children:"Banner ads"}),"\n",(0,r.jsxs)(t.p,{children:["In the generated Flutter News example, banner ads are introduced as ",(0,r.jsx)(t.a,{href:"/server_development/blocks",children:"blocks"})," served from static news data. The static news data contains instances of ",(0,r.jsx)(t.code,{children:"BannerAdBlock"})," that the app renders as ads inside the feed and in articles."]}),"\n",(0,r.jsx)(t.p,{children:"To introduce banner ads into your app, you can do one of the following:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Insert them locally at the client level."}),"\n",(0,r.jsxs)(t.li,{children:["Insert them into the data served by your ",(0,r.jsx)(t.a,{href:"/server_development/connecting_your_data_source",children:"data source"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["For additional tips, best practices, discouraged implementations with banners, review our articles on the Help Center ",(0,r.jsx)(t.a,{href:"https://support.google.com/admob/answer/6128877",children:"here"}),"."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Inserting Banner Ads Locally"})}),"\n",(0,r.jsxs)(t.p,{children:["To insert banner ads locally, add ",(0,r.jsx)(t.code,{children:"BannerAdBlocks"})," with your desired size into any block feed by adjusting the state emitted by the ",(0,r.jsx)(t.code,{children:"ArticleBloc"})," and ",(0,r.jsx)(t.code,{children:"FeedBloc"}),", respectively."]}),"\n",(0,r.jsxs)(t.p,{children:["For example, to insert banner ads into the ",(0,r.jsx)(t.code,{children:"category"})," feed view, edit the ",(0,r.jsx)(t.code,{children:"FeedBloc._onFeedRequested()"})," method to insert a ",(0,r.jsx)(t.code,{children:"BannerAdBlock"})," every 15 blocks, and subsequently emit the updated feed."]}),"\n",(0,r.jsxs)(t.p,{children:["If you want banner ads to appear outside of a feed view, call the ",(0,r.jsx)(t.code,{children:"BannerAd"})," widget constructor with a ",(0,r.jsx)(t.code,{children:"BannerAdBlock"})," at the desired location in the widget tree."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Inserting Banner Ads at the Data Source"})}),"\n",(0,r.jsxs)(t.p,{children:["Inserting banner ads into content served by your backend API is the same as local insertion, except that, out of the box, you can only insert a ",(0,r.jsx)(t.code,{children:"BannerAdBlock"})," into block feeds (such as the ",(0,r.jsx)(t.code,{children:"article"})," or ",(0,r.jsx)(t.code,{children:"category"})," feed). To insert a banner ad on the server, change the behavior of your ",(0,r.jsx)(t.a,{href:"/server_development/connecting_your_data_source#creating-a-new-data-source",children:"custom data source"}),". Methods such as ",(0,r.jsx)(t.code,{children:"getFeed()"})," and ",(0,r.jsx)(t.code,{children:"getArticle()"})," should insert a ",(0,r.jsx)(t.code,{children:"BannerAdBlock"})," into the blocks returned from the server at your desired positions."]}),"\n",(0,r.jsxs)(t.p,{children:["Be sure to update the ",(0,r.jsx)(t.code,{children:"totalBlocks"})," metadata returned by the server to reflect the total number of blocks served to the client. This ensures that the client renders all content properly."]}),"\n",(0,r.jsx)(t.h3,{id:"interstitial-ads",children:"Interstitial ads"}),"\n",(0,r.jsxs)(t.p,{children:["Interstitial ads are full-screen ads that appear between content. As an example, interstitial ads are displayed upon opening each article. Please follow Google Ads recommendations and adjust the frequency of interstitial ads for a better user experience. This logic is handled by ",(0,r.jsx)(t.code,{children:"_ArticleViewState"}),"'s ",(0,r.jsx)(t.code,{children:"initState"})," method (",(0,r.jsx)(t.code,{children:"lib/article/view/article_page.dart"}),"). To remove interstitial ads entirely, you can delete the following line:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dart",children:"context.read<FullScreenAdsBloc>().add(const ShowInterstitialAdRequested());\n"})}),"\n",(0,r.jsx)(t.p,{children:"Alternatively, you can move that line to a location to execute after your desired event (for example, upon article close)."}),"\n",(0,r.jsxs)(t.p,{children:["For additional tips, you can review our articles on the Help Center for ",(0,r.jsx)(t.a,{href:"https://support.google.com/admob/answer/6201350",children:"recommended implementations"})," and ",(0,r.jsx)(t.a,{href:"https://support.google.com/admob/answer/6066980?hl=en",children:"ad guidance"})," with interstitials."]}),"\n",(0,r.jsx)(t.h3,{id:"sticky-ads",children:"Sticky Ads"}),"\n",(0,r.jsxs)(t.p,{children:["Sticky ads are small dismissible ads that are anchored to the bottom of the screen. Sticky ads are built by the ",(0,r.jsx)(t.code,{children:"StickyAd"})," widget. In the template, there is a sticky ad placed in ",(0,r.jsx)(t.code,{children:"ArticleContent"})," (",(0,r.jsx)(t.code,{children:"lib/article/widgets/article_content.dart"}),"). Move the ",(0,r.jsx)(t.code,{children:"StickyAd()"})," constructor to change which screen shows the sticky ad."]}),"\n",(0,r.jsx)(t.h3,{id:"rewarded-ads",children:"Rewarded ads"}),"\n",(0,r.jsxs)(t.p,{children:["Rewarded ads allow the user to view an advertisement to enable a desired action. In the template, unsubscribed users have the opportunity to watch a rewarded ad after viewing four articles, which unlocks the ability to view an additional article. Rewarded ads are built inside the ",(0,r.jsx)(t.code,{children:"SubscribeWithArticleLimitModal"})," widget (",(0,r.jsx)(t.code,{children:"lib/subscriptions/widgets/subscribe_with_article_limit_modal.dart"}),")."]}),"\n",(0,r.jsxs)(t.p,{children:["The following line runs when tapping the ",(0,r.jsx)(t.strong,{children:"Watch a video to view this article"})," button on the modal bottom sheet:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dart",children:"context.read<FullScreenAdsBloc>().add(const ShowRewardedAdRequested())\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Move the line to trigger a rewarded ad at your desired position inside the app. Make sure to create a ",(0,r.jsx)(t.code,{children:"HasWatchedRewardedAdListener"})," callback (similar to the one found in ",(0,r.jsx)(t.code,{children:"lib/article/view/article_page.dart"}),"), to display the desired content after the user has watched the rewarded ad."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(6540);const s={},d=r.createContext(s);function i(e){const t=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(d.Provider,{value:t},e.children)}}}]);